{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "type": "object",
  "additionalProperties": false,
  "required": ["exercises", "goals", "targets"],
  "properties": {
    "$schema": {
      "type": "string"
    },
    "exercises": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/Exercise"
      }
    },
    "goals": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/Goal"
      }
    },
    "targets": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/Target"
      }
    }
  },
  "$defs": {
    "Exercise": {
      "type": "object",
      "description": "An exercise, which can be anything from a single gym exercise to a longer spraywall drill.",
      "required": ["abbreviation", "goalId", "targetId", "name"],
      "properties": {
        "abbreviation": {
          "type": "string",
          "minLength": 1,
          "maxLength": 6
        },
        "goalId": {
          "$ref": "#/$defs/GoalId"
        },
        "targetId": {
          "$ref": "#/$defs/TargetId"
        },
        "secondaryGoalIds": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/GoalId"
          }
        },
        "secondaryTargetIds": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/TargetId"
          }
        },
        "name": {
          "type": "string",
          "minLength": 1
        },
        "description": {
          "type": "string",
          "format": "html",
          "minLength": 1
        }
      }
    },
    "TargetId": {
      "enum": [
        "F",
        "U",
        "B",
        "T",
        "OR",
        "UR",
        "S",
        "P",
        "C",
        "H",
        "G",
        "Q",
        "HS"
      ],
      "description": "The ID of a target. F = Finger, U = Unterarm, B = Bizeps, T = Trizeps, OR = Oberer Rücken, UR = Unterer Rücken, S = Schultern, P = Brust, C = Core, H = Hüfte, G = Glutes, Q = Quadrizeps, HS = Hamstrings"
    },
    "Target": {
      "type": "object",
      "required": ["id", "label"],
      "properties": {
        "id": {
          "$ref": "#/$defs/TargetId"
        },
        "label": {
          "type": "string",
          "minLength": 1
        },
        "name": {
          "type": "string",
          "minLength": 1
        }
      }
    },
    "GoalId": {
      "enum": ["A", "B", "K", "M", "S", "T"],
      "description": "The ID of a goal. A = Ausdauer, B = Beweglichkeit, K = Koordination, M = Maximalkraft, S = Schnellkraft, T = Technik"
    },
    "Goal": {
      "type": "object",
      "required": ["id", "label"],
      "properties": {
        "id": {
          "$ref": "#/$defs/GoalId"
        },
        "label": {
          "type": "string",
          "minLength": 1
        },
        "name": {
          "type": "string",
          "minLength": 1
        }
      }
    }
  }
}
